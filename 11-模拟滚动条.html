<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 20px;
				height: 400px;
				background: gray;
				position: relative;
				float: left;
			}
			#cont{
				width: 20px;
				height: 50px;
				background: pink;
				position: absolute;
				top:0;
				left:0;
			}
			#inner{
				width: 200px;
				height: 400px;
				background: deepskyblue;
				margin-left: 20px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<div id="cont"></div>
		</div>
		<div id="inner">
			<div id="text">
				余情悦其淑美兮，心振荡而不怡。无良媒以接欢兮，托微波而通辞。愿诚素之先达兮，解玉佩以要之。
				嗟佳人之信修兮，羌习礼而明诗。抗琼珶以和予兮，指潜渊而为期。执眷眷之款实兮，惧斯灵之我欺。
				感交甫之弃言兮，怅犹豫而狐疑。收和颜而静志兮，申礼防以自持。
				于是洛灵感焉，徙倚彷徨。神光离合，乍阴乍阳。竦轻躯以鹤立，若将飞而未翔。
				践椒涂之郁烈，步蘅薄而流芳。超长吟以永慕兮，声哀厉而弥长。 尔乃众灵杂遝，命俦啸侣。或戏清流，或翔神渚。
				或采明珠，或拾翠羽。从南湘之二妃，携汉滨之游女。叹匏瓜之无匹兮，咏牵牛之独处。扬轻袿之猗靡兮，翳修袖以延伫。体迅飞凫，飘忽若神。
				凌波微步，罗袜生尘。动无常则，若危若安。进止难期，若往若还。转眄流精，光润玉颜。含辞未吐，气若幽兰。华容婀娜，令我忘餐。
				于是屏翳收风，川后静波。冯夷鸣鼓，女娲清歌。腾文鱼以警乘，鸣玉鸾以偕逝。六龙俨其齐首，载云车之容裔。鲸鲵踊而夹毂，水禽翔而为卫。
				于是越北沚，过南冈，纡素领，回清阳，动朱唇以徐言，陈交接之大纲。恨人神之道殊兮，怨盛年之莫当。
				抗罗袂以掩涕兮，泪流襟之浪浪。悼良会之永绝兮，哀一逝而异乡。无微情以效爱兮，献江南之明珰。虽潜处于太阴，长寄心于君王。忽不悟其所舍，怅神宵而蔽光。
				于是背下陵高，足往神留。遗情想像，顾望怀愁。冀灵体之复形，御轻舟而上溯。浮长川而忘返，思绵绵而增慕。夜耿耿而不寐，沾繁霜而至曙。
				命仆夫而就驾，吾将归乎东路。揽騑辔以抗策，怅盘桓而不能去。
			</div>
		</div>
	</body>
	<script type="text/javascript" src="../js/myQuery.js" ></script>
	<script type="text/javascript">
		var maxH=$('box').offsetHeight-$('cont').offsetHeight;
		var maxT=$('text').offsetHeight-$('inner').offsetHeight;
		$('cont').onmousedown=function(ev){
			var newEv=ev || event;
			var T=$('cont').offsetTop;
			var Y=newEv.clientY;
			document.onmousemove=function(ev){
				var newEv=ev || event;
				var t=newEv.clientY-Y;
				if(t<0){
					t=0;
				}
				if(t>maxH){
					t=maxH;
				}
				$('cont').style.top=t+'px';
//				$('inner').style.height=400-(t/maxH*400)+'px';
				$('text').style.marginTop=-t/maxH*maxT+'px';
			}
			document.onmouseup=function(){
				this.onmousemove=null;
			}
			return false;
		}
		$('inner').onmousewheel=function(ev){
			var newEv=ev || event;
			var d=true;
//			var t=$('cont').offsetTop;
			if(newEv.wheelDelta){
				newEv.wheelDelta < 0 ? d=true : d =false;
			}
//			if(t<10){
//				t=10;
//			}
//			if(t>maxH-10){
//				t=maxH-10;
//			}
			if(d){
				var t=$('cont').offsetTop+10;
				if(t>maxH){
				t=maxH;
			}
				$('cont').style.top=t+'px';
				$('text').style.marginTop=-t/maxH*maxT+'px';
			}else{
				var t=$('cont').offsetTop-10;
				if(t<0){
				t=0;
			
			}
				$('cont').style.top=t+'px';
				$('text').style.marginTop=-t/maxH*maxT+'px';
			}
			return false;
		}
	</script>
</html>
